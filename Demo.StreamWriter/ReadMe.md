# 背景

今天在维护一个旧项目的时候，看到一个方法把`string` 转换为 `byte[]` 用的是写入内存流的，然后`ToArray()`，因为平常都是用`System.Text.Encoding.UTF8.GetBytes(string)` ,刚好这里遇到一个安全的问题，就想把它重构了。

由于这个是已经找不到原来开发的人员，所以也无从问当时为什么要这么做，我想就算找到应该他也不知道当时为什么要这么做。

由于这个是线上跑了很久的项目，所以需要做一下测试，万一真里面真的是有历史原因呢！于是就有了这篇文章。


# 重构过程

1. 需要一个比较`byte`数组的函数，没找到有系统自带，所以写了一个
2. 单元测试
3. 基准测试（或许之前是为了性能考虑，因为这个方法调用次数也不少）

**BytesEquals**
